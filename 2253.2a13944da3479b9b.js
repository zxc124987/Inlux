"use strict";(self["webpackChunkinnolux"]=self["webpackChunkinnolux"]||[]).push([[2253],{4868:function(t,e,a){a.d(e,{Z:function(){return n}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header1"},[e("nav",{staticClass:"nav"},[t._m(0),e("div",{staticClass:"logo-text"},[t._v("群創光電"),e("span",{staticClass:"ms-2 headerText"},[t._v(t._s(t.headerText))])]),t.showPrint?e("div",{staticClass:"print text-end ms-auto"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Print by :")]),e("span",[t._v(t._s(t.printBy))])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Print Time：")]),e("span",[t._v(t._s(t.nowDate))])])])]):t._e()])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:a(6086),alt:"logo"}})])}],_={name:"header1-component",props:{headerText:{type:String,default:"工程申請單"},showPrint:{type:Boolean,default:!1},printData:{type:Object},printBy:{type:String}},data(){return{nowDate:this.formatDate(new Date)}},methods:{formatDate(t){var e=new Date(t),a=""+(e.getMonth()+1),s=""+e.getDate(),r=e.getFullYear();return a.length<2&&(a="0"+a),s.length<2&&(s="0"+s),[r,a,s].join("-")}},mounted(){}},i=_,o=a(1001),l=(0,o.Z)(i,s,r,!1,null,"23cc3008",null),n=l.exports},2253:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:this.$root.overlay,expression:"this.$root.overlay",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"openOtherPage"},[e("header1"),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("工程基本資料")]),t._l(t.projDetail,(function(a,s){return e("div",{key:s,staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("th",[t._v("工程名稱")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(a.project_Name))]),e("th",[t._v("工程編號")]),e("td",[t._v(t._s(a.project_No))])]),e("tr",[e("th",[t._v("主承包商統編")]),e("td",[t._v(t._s(t.projectVendorDetailM.s_Id))]),e("th",[t._v("群創負責工程師")]),e("td",[t._v(t._s(a.emp_Name))]),e("th",[t._v("工號")]),e("td",[t._v(t._s(a.emp_No))])]),e("tr",[e("th",[t._v("工程生效日")]),e("td",[t._v(t._s(a.begin_Date))]),e("th",[t._v("工程截止日")]),e("td",[t._v(t._s(a.end_Date))]),e("th",[t._v("工程建立日")]),e("td",[t._v(t._s(a.create_Date))])]),e("tr",[e("th",[t._v("工程建立者")]),e("td",[t._v("13000011")]),e("th",[t._v("工程修改日")]),e("td",[t._v(t._s(a.modify_Date))]),e("th",[t._v("工程修改者")]),e("td")]),e("tr",[e("th",[t._v("施工區域")]),e("td",[t._v(t._s(a.LD4)+"("+t._s(a.LD3)+")")]),e("th",[t._v("施工廠區")]),e("td",[t._v(t._s(a.LD2)+"("+t._s(a.LD1)+")")]),e("th",[t._v("廠別/主區域")]),e("td",[t._v(t._s(a.floor))])]),e("tr",[e("th",[t._v("工程請求單編號")]),e("td",[t._v(t._s(a.project_Apply_No))]),e("th",[t._v("工程請求單說明")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(a.project_Apply_Remark))])]),e("tr",[e("th",[t._v("承攬商入廠施工群組")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(a.course_Name))])]),e("tr",[e("th",[t._v("工程說明")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(a.description))])]),e("tr",[e("th",[t._v("可申請之高風險作業")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(t.workType))])]),e("tr",[e("th",[t._v("是否營建工程")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(0==a.isBuild?"是":"否"))])]),e("tr",[e("th",[t._v("工程前安全會議紀錄")]),e("td",{attrs:{colspan:"5"}},t._l(t.attachment,(function(a,s){return e("div",["PROJECT"===a.file_Category?e("a",{attrs:{href:"#"},on:{click:function(e){return t.downloadPdf(a)}}},[t._v(t._s(a.file_Name))]):t._e()])})),0)]),e("tr",[e("th",[t._v("施工防護計畫書")]),e("td",{attrs:{colspan:"5"}},t._l(t.attachment,(function(a,s){return e("div",["PROJECT2"===a.file_Category?e("a",{attrs:{href:"#"},on:{click:function(e){return t.downloadPdf(a)}}},[t._v(t._s(a.file_Name))]):t._e()])})),0)])])])])}))],2),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("主承包商基本資料")]),t._l(t.projectVendorDetailM,(function(a,s){return e("div",{key:s,staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("th",[t._v("公司名稱")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(a.s_Name))])]),e("tr",[e("th",[t._v("帳號管理人")]),e("td",[t._v(t._s(a.admin_Name))]),e("th",[t._v("帳號管理人電話")]),e("td",[t._v(t._s(a.admin_Tel))]),e("th",[t._v("帳號管理人MAIL")]),e("td",[t._v(t._s(a.email))])]),e("tr",[e("th",[t._v("駐廠聯絡人")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(a.pcomment))])]),e("tr",[e("th",[t._v("發票地址")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(a.address1))])]),e("tr",[e("th",[t._v("聯絡地址")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(a.address2))])])])])])}))],2),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("下承包商基本資料")]),e("div",{staticClass:"table-responsive"},[t.projectVendorDetailS.length?e("table",{staticClass:"table table-bordered"},[e("tbody",t._l(t.projectVendorDetailS,(function(a,s){return e("tr",{key:s},[e("th",[t._v("公司名稱")]),e("td",[t._v(t._s(a.s_Name))]),e("th",[t._v("電話")]),e("td",[t._v(t._s(a.tel))]),e("th",[t._v("駐廠聯絡人")]),e("td",[t._v(t._s(a.pcomment))])])})),0)]):e("table",{staticClass:"table table-bordered"},[t._m(0)])])]),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("簽核歷程")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[t._m(1),e("td",{attrs:{colspan:"5"}},[t._v(t._s(t.waitStaff))])]),e("tr",[e("th",[t._v("待簽核節點")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(t.waitNode))])])])]),e("table",{staticClass:"table table-bordered"},[t._m(2),e("tbody",t._l(t.detail,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.act_Desc))]),e("td",[t._v(t._s(a.name)+" ("+t._s(a.sr_Emp)+"/"+t._s(a.ext_No)+"/"+t._s(a.e_mail)+")")]),e("td",[t._v(t._s(a.participants))]),e("td",[t._v(t._s(a.sr_Comment))]),e("td",[t._v(t._s(a.sr_Date))])])})),0)])])])],1)},r=[function(){var t=this,e=t._self._c;return e("tbody",[e("tr",[e("td",{staticClass:"text-center"},[t._v("目前無下承包商基本資料")])])])},function(){var t=this,e=t._self._c;return e("th",[t._v("待簽核人員"),e("br"),t._v("(工號/分機/Mail)")])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("簽核點")]),e("th",[t._v("簽核人員姓名 (工號/分機/Mail)")]),e("th",[t._v("參與人員")]),e("th",[t._v("意見")]),e("th",[t._v("簽核時間")])])])}],_=(a(7658),a(4868)),i=a(942),o={name:"viewSignOffDetails-component",components:{header1:_.Z},data(){return{projDetail:[],work_Type:[],attachment:[],vendor_Detail:[],head:[],detail:[]}},computed:{workType(){return this.work_Type.reduce(((t,e)=>(t.push(`${e.work_Type_Name} (${e.description})`),t)),[]).join("、")},projectVendorDetailM(){return this.vendor_Detail.filter((t=>"M"==t.vendor_Type))},projectVendorDetailS(){return this.vendor_Detail.filter((t=>"S"==t.vendor_Type))},waitStaff(){return this.head.map((t=>`${t.name} (${t.processor_EmpNo}/${t.ext_No}/${t.e_mail})`)).join("、")},waitNode(){return this.head.map((t=>t.act_Desc)).join("、")}},methods:{async downloadPdf(t){try{const e=await this.$store.dispatch("commonDownloadPdf",{file_id:t.file_Id,router_Name:i.getProjMgmtController});this.downloadFile(e,t.file_Name,"pdf")}catch(e){console.log(e)}}},async mounted(){this.$root.$children[0].sidebarSwitch=!1,this.$store.commit("HEADER_HANDLER",!1),this.$store.commit("BREADCRUMB_HANDLER",!1);let t=JSON.parse(this.$route.query.data);t&&(this.$root.overlay=!1),this.projDetail=t[0].proj_Detail,this.work_Type=t[0].work_Type,this.attachment=t[0].attachment,this.vendor_Detail=t[0].vendor_Detail,this.head=t[1].head,this.detail=t[1].detail}},l=o,n=a(1001),d=(0,n.Z)(l,s,r,!1,null,null,null),v=d.exports}}]);
//# sourceMappingURL=2253.2a13944da3479b9b.js.map