"use strict";(self["webpackChunkinnolux"]=self["webpackChunkinnolux"]||[]).push([[7505],{7505:function(s,t,e){e.r(t),e.d(t,{default:function(){return c}});var r=function(){var s=this,t=s._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:this.$root.overlay,expression:"this.$root.overlay",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"change-pswd"},[t("div",{staticClass:"wrapper"},[t("el-button",{staticClass:"goBack",attrs:{type:"text"},on:{click:function(t){return s.goBack()}}},[t("i",{staticClass:"el-icon-back me-1"}),s._v("回上頁 ")]),t("h2",{staticClass:"form-title"},[s._v("廠商基本資料")]),t("el-card",{staticClass:"mb-3",attrs:{shadow:"never"}},[t("div",{staticClass:"form-group mb-3"},[t("label",{attrs:{for:""}},[s._v("統一編號：")]),t("span",[s._v(s._s(s.s_id))])]),t("el-row",{staticClass:"info mb-0"},[t("el-col",{attrs:{span:3}},[t("h3",{staticClass:"row-title"},[s._v("重設密碼")])]),t("el-col",{attrs:{span:21}},[t("el-form",{ref:"form",attrs:{model:s.form,rules:s.rules}},[t("el-form-item",{attrs:{label:"輸入新密碼",prop:"pswd"}},[t("el-input",{attrs:{placeholder:"請輸入密碼"},model:{value:s.form.pswd,callback:function(t){s.$set(s.form,"pswd",t)},expression:"form.pswd"}})],1),t("el-form-item",{attrs:{label:"再次輸入新密碼",prop:"rePswd"}},[t("el-input",{attrs:{placeholder:"請再次輸入新密碼"},model:{value:s.form.rePswd,callback:function(t){s.$set(s.form,"rePswd",t)},expression:"form.rePswd"}})],1)],1)],1)],1)],1),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return s.submit("form")}}},[s._v("送出")])],1)])},a=[],i={name:"change-pswd-component",components:{},data(){var s=(s,t,e)=>{""===t?e(new Error("請輸入密碼")):(""!==this.form.rePswd&&this.$refs.form.validateField("rePswd"),e())},t=(s,t,e)=>{""===t?e(new Error("請再次輸入密碼")):t!==this.form.pswd?e(new Error("兩次密碼輸入不正確!")):e()};return{formData:{},s_id:"",form:{pswd:"",rePswd:""},rules:{pswd:[{required:!0,message:"必填",trigger:"blur"},{validator:s,trigger:"blur"}],rePswd:[{required:!0,message:"必填",trigger:"blur"},{validator:t,trigger:"blur"}]}}},computed:{},methods:{submit(s){this.$refs[s].validate((async s=>{s?(this.formData.PASSWORD=this.form.rePswd,this.updSupplierDetail(this.formData.PASSWORD)):this.$message({type:"error",showClose:!0,message:"資料輸入錯誤"})}))},goBack(){this.$router.go(-1)},async updSupplierDetail(s){try{await this.$store.dispatch("resetPD",s),this.$message({type:"success",duration:5e3,showClose:!0,message:"修改成功"})}catch(t){console.log(t)}},async getSupplierDetail(s){try{const t=await this.$store.dispatch("getSupplierDetail",s);this.formData=t.data.data}catch(t){console.log(t)}}},async mounted(){this.s_id=this.$route.params.s_id,this.getSupplierDetail(this.s_id),this.$root.$children[0].sidebarSwitch=!0,this.$store.commit("HEADER_HANDLER",!0),this.$store.commit("BREADCRUMB_HANDLER",!0)}},o=i,l=e(1001),n=(0,l.Z)(o,r,a,!1,null,null,null),c=n.exports}}]);
//# sourceMappingURL=7505.7a3afb91f42603d3.js.map