"use strict";(self["webpackChunkinnolux"]=self["webpackChunkinnolux"]||[]).push([[1626],{1919:function(t,e,a){a.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-responsive"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.data,"row-key":t.getRowKeys,"default-sort":{prop:"id",order:"ascending"},"empty-text":"查無資料","cell-class-name":t.rowStyleHandler,border:"","highlight-current-row":""},on:{"selection-change":t.selectChangeHandler}},[t._t("custom-selection"),t._t("custom-checkbox1"),t._t("custom-checkbox2"),t._l(t.tableColumns,(function(a,r){return e("el-table-column",{key:r,attrs:{prop:a.id,label:a.label,width:a.width,sortable:"date"===a.id},scopedSlots:t._u([{key:"default",fn:function(r){return["status"===a.id?e("el-tag",{attrs:{type:"簽核通過"===r.row.status||"審核通過"===r.row.status?"success":"拒絕申請"===r.row.status?"danger":"草稿"===r.row.status?"warning":"查無資料"}},[t._v(" "+t._s(r.row.status)+" ")]):"status_Id"===a.id?e("el-tag",{attrs:{type:"OPEN"===r.row.status_Id?"":"CLOSE"===r.row.status_Id?"danger":"FULL"===r.row.status_Id?"warning":"success"}},[t._v(" "+t._s(t.getCourseState(r.row.status_Id))+" ")]):"description2"===a.id?e("el-tag",{attrs:{type:"有效課程"===r.row.description?"":"danger"}},[t._v(" "+t._s(r.row.description)+" ")]):"approve_Status"===a.id?e("el-tag",{attrs:{type:"0"===r.row.approve_Status?"":"1"===r.row.approve_Status?"success":"danger"}},[t._v(" "+t._s(t.getApproveStatus(r.row.approve_Status))+" ")]):"approve_Status2"===a.id?e("el-tag",{attrs:{type:"審核中"===r.row.approve_Status2||"未審核"===r.row.approve_Status2?"":"審核完畢"===r.row.approve_Status2||"審核同意"===r.row.approve_Status2?"success":"danger"}},[t._v(" "+t._s(r.row.approve_Status2)+" ")]):"attend_Status"===a.id?e("el-tag",{attrs:{type:"0"===r.row.attend_Status?"":"1"===r.row.attend_Status?"success":"danger"}},[t._v(" "+t._s(t.getAttendStatus(r.row.attend_Status))+" ")]):"issue_Card"===a.id?e("el-tag",{attrs:{type:"0"===r.row.issue_Card?"":"1"===r.row.issue_Card?"success":"danger"}},[t._v(" "+t._s(t.getIssueCardStatus(r.row.issue_Card))+" ")]):"signUpStatus"===a.id?e("el-tag",{attrs:{type:"已結案"===t.signUpStatus(r.row.signUpStatus,r.row.approveStatus)?"success":"可取消報名"===t.signUpStatus(r.row.signUpStatus,r.row.approveStatus)?"danger":""}},[t._v(" "+t._s(t.signUpStatus(r.row.signUpStatus,r.row.approveStatus))+" ")]):"file_Name"===a.id||"d_File_Name"===a.id?e("a",{attrs:{href:"#"},on:{click:function(e){return t.downloadPdf(r.row)}}},[t._v(t._s(r.row[a.id]))]):"protocolInfo"===a.id?e("div",[e("div",[t._v(t._s(r.row.po_Name))]),t._l(r.row.files,(function(a){return e("div",[e("a",{attrs:{href:"#"},on:{click:function(e){return t.downloadPdf(a)}}},[t._v(t._s(a.file_Name))])])}))],2):"useable"===a.id&&"已刪除(廠商不可申請每日工單)"===r.row.useable?e("span",{staticStyle:{color:"red"}},[t._v(t._s(r.row.useable))]):"deleted"===a.id?e("span",{class:{"text-danger":"1"===r.row.deleted}},[t._v(" "+t._s(r.row.effect)+" ")]):"array_data"===a.id?e("span",t._l(r.row[a.id],(function(a,r){return e("p",{key:r,staticClass:"mb-0"},[t._v(t._s(a))])})),0):RegExp(/\n/).test(r.row[r.column.property])?e("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v(" "+t._s(r.row[a.id])+" ")]):e("span",[t._v(t._s(r.row[a.id]))])]}}],null,!0)})})),t._t("custom-edit-select"),t._t("custom-switch"),t._t("custom-function"),t._t("slot-sheet-open")],2)],1)},o=[],s={name:"table-component",props:["data","tableColumns"],data(){return{api:this.apiUrl,loading:!0}},methods:{selectChangeHandler(t){this.$emit("selectionChange",t)},downloadPdf(t){const e=t.file_Id;this.$emit("downloadPdfHandler",e),this.$emit("downloadPdfHandler2",t)},getRowKeys(t){return t.index?t.index:t.id},rowStyleHandler(t){if("1"===t.row.isWeekend||"1"===t.row.isNight)return"fontColorBlue"}},mounted(){this.data&&(this.loading=!1)}},i=s,l=a(1001),n=(0,l.Z)(i,r,o,!1,null,"4a0f1604",null),c=n.exports},1626:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var r=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:this.$root.overlay,expression:"this.$root.overlay",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"wrapper"},[e("h2",{staticClass:"form-title mb-4"},[t._v("工作區域與簽核人員管理")]),e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:"新增工作區域"}},[e("el-form",{ref:"workAreaForm",attrs:{model:t.workAreaForm}},[e("el-row",[e("el-col",{staticClass:"px-1",staticStyle:{"margin-right":"20px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"廠區",prop:"fac"}},[e("el-select",{attrs:{"value-key":"ld2",placeholder:"請選擇"},on:{change:function(e){return t.chgWorkAreaHandler()}},model:{value:t.workAreaForm.fac,callback:function(e){t.$set(t.workAreaForm,"fac",e)},expression:"workAreaForm.fac"}},t._l(t.facList,(function(t){return e("el-option",{key:t.ld1,attrs:{label:t.ld2,value:t}})})),1)],1)],1),e("el-col",{staticClass:"px-1",staticStyle:{"margin-right":"20px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"主區域",prop:"location"}},[e("el-select",{attrs:{"value-key":"description",placeholder:"請選擇"},on:{change:function(e){return t.chgWorkAreaHandler()}},model:{value:t.workAreaForm.location,callback:function(e){t.$set(t.workAreaForm,"location",e)},expression:"workAreaForm.location"}},t._l(t.locationList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.description,value:t}})})),1)],1)],1),e("el-col",{staticClass:"px-1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"廠別",prop:"fab"}},[e("el-select",{attrs:{"value-key":"floor",placeholder:"請選擇",disabled:!this.workAreaForm.fac||!this.workAreaForm.location},model:{value:t.workAreaForm.fab,callback:function(e){t.$set(t.workAreaForm,"fab",e)},expression:"workAreaForm.fab"}},t._l(t.fabList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.floor,value:t}})})),1)],1)],1),e("el-col",{staticStyle:{padding:"30px"},attrs:{span:3}},[e("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.qryWorkArea()}}},[t._v("查詢")])],1)],1),e("el-row",[e("el-col",{staticClass:"px-1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"次區域",prop:"SECOND_AREA_NAME"}},[e("el-input",{attrs:{placeholder:"請輸入次區域名稱"},model:{value:t.workAreaForm.SECOND_AREA_NAME,callback:function(e){t.$set(t.workAreaForm,"SECOND_AREA_NAME",e)},expression:"workAreaForm.SECOND_AREA_NAME"}})],1)],1)],1)],1),e("div",{staticClass:"mt-2 px-1"},[e("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.addWorkArea()}}},[t._v("新增區域")])],1),t.selectedWorkArea.length?e("div",{staticClass:"selected-box mt-4 px-1"},[e("span",{staticClass:"me-2"},[t._v("已選 "+t._s(t.selectedWorkArea.length)+" 項")]),[e("el-popconfirm",{attrs:{title:"確定要刪除嗎？","cancel-button-type":"plain"},on:{confirm:function(e){return t.delWorkArea()}}},[e("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},slot:"reference"},[t._v("刪除")])],1)]],2):t._e(),e("TableComponent",{ref:"TableComponent",staticClass:"mt-3",attrs:{data:t.workAreaList,tableColumns:t.workAreaTableColumns},on:{selectionChange:t.changeSelection},scopedSlots:t._u([{key:"custom-selection",fn:function(){return[e("el-table-column",{attrs:{type:"selection",width:"100","reserve-selection":!0}})]},proxy:!0},{key:"custom-function",fn:function(){return[e("el-table-column",{staticClass:"function-column",attrs:{prop:"function",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top-start"}},[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.editHandler(a.row)}}},[e("i",{staticClass:"el-icon-edit-outline"})])],1)]}}])})]},proxy:!0}])}),e("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",total:t.workArea.length,"current-page":t.workAreaPage},on:{"current-change":t.workAreaChangePage}})],1),e("el-tab-pane",{attrs:{label:"簽核人員管理"}},[e("el-form",{ref:"signoffStaffForm",attrs:{model:t.signoffStaffForm}},[e("el-row",[e("el-col",{staticClass:"px-1",staticStyle:{"margin-right":"20px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"廠區",prop:"fac"}},[e("el-select",{attrs:{placeholder:"請選擇"},on:{change:function(e){return t.chgSignoffStaffHandler()}},model:{value:t.signoffStaffForm.fac,callback:function(e){t.$set(t.signoffStaffForm,"fac",e)},expression:"signoffStaffForm.fac"}},t._l(t.facList,(function(t){return e("el-option",{key:t.ld1,attrs:{label:t.ld2,value:t.ld1}})})),1)],1)],1),e("el-col",{staticClass:"px-1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"主區域",prop:"location"}},[e("el-select",{attrs:{placeholder:"請選擇"},on:{change:function(e){return t.chgSignoffStaffHandler()}},model:{value:t.signoffStaffForm.location,callback:function(e){t.$set(t.signoffStaffForm,"location",e)},expression:"signoffStaffForm.location"}},t._l(t.locationList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.description,value:t.id}})})),1)],1)],1),e("el-col",{staticStyle:{padding:"30px"},attrs:{span:3}},[e("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.qrySignoffStaff()}}},[t._v("查詢")])],1)],1),e("el-row",[e("el-col",{staticClass:"px-1",staticStyle:{"margin-right":"20px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"次區域",prop:"area_Id"}},[e("el-select",{attrs:{placeholder:"請選擇"},model:{value:t.signoffStaffForm.area_Id,callback:function(e){t.$set(t.signoffStaffForm,"area_Id",e)},expression:"signoffStaffForm.area_Id"}},t._l(t.secondAreaList,(function(t){return e("el-option",{key:t.area_Id,attrs:{label:t.description,value:t.area_Id}})})),1)],1)],1),e("el-col",{staticClass:"px-1",staticStyle:{"margin-right":"20px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"通知人員",prop:"area_Type"}},[e("el-select",{attrs:{placeholder:"請選擇"},model:{value:t.signoffStaffForm.area_Type,callback:function(e){t.$set(t.signoffStaffForm,"area_Type",e)},expression:"signoffStaffForm.area_Type"}},t._l(t.areaTypeList,(function(t){return e("el-option",{key:t.area_Type,attrs:{label:t.area_Type_Name,value:t.area_Type}})})),1)],1)],1),e("el-col",{staticClass:"px-1",attrs:{span:6}},[e("el-form-item",{attrs:{label:"員工工號",prop:"emp_No"}},[e("el-select",{attrs:{filterable:"",remote:"","reverse-keyword":"",placeholder:"請輸入員工工號",loading:t.workerLoading},nativeOn:{keyup:function(e){return t.workerSearchHandler(e)}},model:{value:t.signoffStaffForm.emp_No,callback:function(e){t.$set(t.signoffStaffForm,"emp_No",e)},expression:"signoffStaffForm.emp_No"}},t._l(t.workerList,(function(t){return e("el-option",{key:t.emp_no,attrs:{label:t.name,value:t.emp_no}})})),1),e("p",{staticClass:"note mb-0 mt-1"},[t._v(t._s(t.$store.state.remoteSearchNote))])],1)],1)],1)],1),e("div",{staticClass:"px-1"},[e("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(e){return t.addSignoffStaff()}}},[t._v("新增人員")])],1),e("div",{staticClass:"mt-4 px-1",staticStyle:{"font-size":"16px"}},[t._v(" * 注意! 尚未指派人員之區，請立即補入，否則申請單無法進入簽核流程，影響施工進度。 ")]),e("div",{staticClass:"my-4 col-4 ms-auto"},[e("el-input",{staticClass:"search-text",attrs:{placeholder:"Search","prefix-icon":"el-icon-search",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e("TableComponent",{staticClass:"mt-3",attrs:{data:t.signoffStaff,tableColumns:t.signoffStaffTableColumns},scopedSlots:t._u([{key:"custom-function",fn:function(){return[e("el-table-column",{staticClass:"function-column",attrs:{prop:"function",label:"操作",width:"125"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刪除",placement:"top-start"}},[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.delHandler(a.row)}}},[e("i",{staticClass:"el-icon-delete"})])],1)]}}])})]},proxy:!0}])})],1)],1),e("el-dialog",{staticStyle:{top:"10vmin"},attrs:{title:"修改工作區域",visible:t.editWorkArea,width:"40%"},on:{"update:visible":function(e){t.editWorkArea=e}}},[e("el-form",{ref:"editWorkAreaItem",attrs:{model:t.editWorkAreaItem,rules:t.editWorkAreaItemRules}},[e("div",{staticClass:"form-group mb-1 p-1"},[e("label",{attrs:{for:""}},[t._v("廠區：")]),e("span",[t._v(t._s(t.editWorkAreaItem.fac))])]),e("div",{staticClass:"form-group mb-1 p-1"},[e("label",{attrs:{for:""}},[t._v("主區域：")]),e("span",[t._v(t._s(t.editWorkAreaItem.location))])]),e("div",{staticClass:"form-group mb-1 p-1"},[e("label",{attrs:{for:""}},[t._v("廠別：")]),e("span",[t._v(t._s(t.editWorkAreaItem.fab))])]),e("el-form-item",{staticClass:"mb-1 p-1",attrs:{label:"次區域",prop:"second_Area_Name"}},[e("el-input",{staticClass:"w-75",attrs:{placeholder:"請輸入次區域名稱"},model:{value:t.editWorkAreaItem.second_Area_Name,callback:function(e){t.$set(t.editWorkAreaItem,"second_Area_Name",e)},expression:"editWorkAreaItem.second_Area_Name"}})],1),e("el-form-item",{staticClass:"p-1",attrs:{prop:"add_Sign"}},[e("el-checkbox",{model:{value:t.editWorkAreaItem.add_Sign,callback:function(e){t.$set(t.editWorkAreaItem,"add_Sign",e)},expression:"editWorkAreaItem.add_Sign"}},[t._v("啟用加簽")])],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.editWorkArea=!1}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.updWorkArea()}}},[t._v("更新")])],1)],1),e("el-dialog",{staticStyle:{top:"10vmin"},attrs:{title:"刪除簽核人員",visible:t.delSignoff,width:"40%"},on:{"update:visible":function(e){t.delSignoff=e}}},[e("el-checkbox-group",{staticClass:"form-group mb-1 p-1",model:{value:t.delStaff,callback:function(e){t.delStaff=e},expression:"delStaff"}},t._l(t.signoffDetail,(function(a){return e("el-checkbox",{key:a.member_Id,staticClass:"d-flex",attrs:{label:a.member_Id}},[t._v(" "+t._s(a.emp_Name)+" ("+t._s(a.emp_No)+") ")])})),1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.delSignoff=!1}}},[t._v("取消")]),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.delSignoffStaff()}}},[t._v("刪除")])],1)],1)],1)},o=[],s=a(1919),i={name:"workAreaSignoffStaff-component",components:{TableComponent:s.Z},data(){return{workAreaForm:{fac:"",location:"",fab:"",fab_Name:"",LD1:"",SECOND_AREA_NAME:"",SECOND_AREA_ID:"",Add_Sign:"",EditMode:"0"},workAreaTableColumns:[{id:"index",label:"項次",width:"70"},{id:"fac",label:"廠區代號",width:"150"},{id:"location",label:"主區域",width:"150"},{id:"fab",label:"FAB廠別",width:"150"},{id:"second_Area_Name",label:"次區域",width:"150"},{id:"second_Area_Id",label:"次區域系統編號",width:"175"}],selectedWorkArea:[],editWorkArea:!1,editWorkAreaItem:{},editWorkAreaItemRules:{second_Area_Name:[{required:!0,message:"必填",trigger:"change"}]},workAreaPage:1,signoffStaffForm:{fac:"",location:"",area_Id:"",area_Type:"",emp_No:""},workerLoading:!1,search:"",signoffStaffTableColumns:[{id:"index",label:"項次",width:"75"},{id:"locInfo",label:"廠區代號/主區域/FAB廠別",width:"240"},{id:"area_Description",label:"次區域(系統編號)",width:"175"},{id:"area_Type_Name",label:"通知人員種類",width:"150"},{id:"pCount",label:"人數",width:"75"},{id:"nameList",label:"員工姓名",width:"200"}],delSignoff:!1,delStaff:[]}},computed:{facList(){return this.$store.state.workArea_facList},locationList(){return this.$store.state.workArea_locationList},fabList(){return this.workAreaForm.fac&&this.workAreaForm.location?this.$store.state.workArea_fabList.filter((t=>t.ld1==this.workAreaForm.fac.ld1&&t.location_Type_Id==this.workAreaForm.location.id)):[]},workArea(){return this.$store.state.workArea_all},workAreaList(){let t=this.$store.state.workArea_allList;return t.forEach((t=>{t.fac=this.workAreaForm.fac.ld2,t.location=this.workAreaForm.location.description,t.fab=this.workAreaForm.fab_Name})),t},secondAreaList(){return this.$store.state.signoff_secondAreaList},areaTypeList(){return this.$store.state.signoff_areaType},workerList(){return this.$store.state.signoff_workerList},signoffStaff(){return this.search?this.$store.state.signoff_all.filter((t=>t.locInfo.includes(this.search)||t.area_Description.includes(this.search))):this.$store.state.signoff_all},signoffDetail(){return this.$store.state.signoff_detail}},methods:{chgWorkAreaHandler(){this.workAreaForm.fab=""},async qryWorkArea(){if(this.workAreaForm.fab)try{this.workAreaForm.fab_Name=this.workAreaForm.fab.floor,await this.$store.dispatch("getWorkArea",this.workAreaForm.fab.id),this.workAreaPage=1}catch(t){console.log(t)}else this.$message({type:"error",showClose:!0,message:"請選擇廠別"})},async addWorkArea(){if(this.workAreaForm.fab&&this.workAreaForm.SECOND_AREA_NAME)try{this.workAreaForm.fab_Name=this.workAreaForm.fab.floor,this.workAreaForm.LD1=this.workAreaForm.fab.id;const t=await this.$store.dispatch("addWorkArea",this.workAreaForm);t.data.isOK&&(this.$message({type:"success",duration:5e3,showClose:!0,message:"新增成功"}),this.signoffStaffForm.fac="",this.signoffStaffForm.location="",this.$store.commit("CURRENT_PAGE_INIT"),this.workAreaPage=1)}catch(t){console.log(t)}else this.$message({type:"error",showClose:!0,message:"請輸入廠別及次區域名稱"})},changeSelection(t){this.selectedWorkArea=t},async delWorkArea(){this.selectedWorkArea.forEach((t=>{t.LD1=t.location_Id}));try{await this.$store.dispatch("delWorkArea",this.selectedWorkArea),this.$refs.TableComponent.$refs.multipleTable.clearSelection(),this.selectedWorkArea=[],this.workAreaPage=1}catch(t){console.log(t)}},editHandler(t){this.editWorkAreaItem={...t},this.editWorkAreaItem.add_Sign="Y"==this.editWorkAreaItem.add_Sign,this.editWorkArea=!0},async updWorkArea(){this.target={},this.target.SECOND_AREA_ID=this.editWorkAreaItem.second_Area_Id,this.target.SECOND_AREA_NAME=this.editWorkAreaItem.second_Area_Name,this.target.LD1=this.editWorkAreaItem.location_Id,this.target.Add_Sign=this.editWorkAreaItem.add_Sign?"Y":"",this.target.EditMode="1";try{const t=await this.$store.dispatch("addWorkArea",this.target);t.data.isOK&&(this.$message({type:"success",duration:5e3,showClose:!0,message:"修改成功"}),this.editWorkArea=!1,this.workAreaPage=1)}catch(t){console.log(t)}},workAreaChangePage(t){this.workAreaPage=t,this.$store.commit("CHANGE_PAGE_HANDLER",{page:t,paramsDataName:"workArea_all",paramsListName:"workArea_allList"})},async chgSignoffStaffHandler(){if(this.signoffStaffForm.fac&&this.signoffStaffForm.location)try{await this.$store.dispatch("getSecondArea",{fac:this.signoffStaffForm.fac,location:this.signoffStaffForm.location})}catch(t){console.log(t)}},async workerSearchHandler(t){if(this.workerLoading=!0,"Enter"==t.key){if(this.workerLoading=!1,!t.target.value)return;this.$store.dispatch("getWorkerList",t.target.value)}},async qrySignoffStaff(){if(this.signoffStaffForm.fac&&this.signoffStaffForm.location)try{await this.$store.dispatch("getSignoffStaff",{fac:this.signoffStaffForm.fac,location:this.signoffStaffForm.location}),this.signoffStaffPage=1}catch(t){console.log(t)}else this.$message({type:"error",showClose:!0,message:"請選擇廠區及主區域"})},async addSignoffStaff(){if(this.signoffStaffForm.area_Id&&this.signoffStaffForm.area_Type&&this.signoffStaffForm.emp_No)try{let t={};t.area_Id=this.signoffStaffForm.area_Id,t.area_Type=this.signoffStaffForm.area_Type,t.emp_No=this.signoffStaffForm.emp_No;const e=await this.$store.dispatch("addSignoffStaff",t);e.data.isOK&&(this.$message({type:"success",duration:5e3,showClose:!0,message:"新增成功"}),this.qrySignoffStaff())}catch(t){console.log(t)}else this.$message({type:"error",showClose:!0,message:"請輸入次區域、通知人員及員工工號"})},async delHandler(t){this.delSignoff=!0;try{await this.$store.dispatch("getSignoffStaffDetail",{area_Id:t.area_Id,ld1:t.ld1,location_Type_Id:t.location_Type_Id,area_Type:t.area_Type})}catch(e){console.log(e)}},async delSignoffStaff(){try{await this.$store.dispatch("delSignoffStaff",this.delStaff),this.delSignoff=!1,this.delStaff=[],this.qrySignoffStaff()}catch(t){console.log(t)}}},async mounted(){this.$store.commit("HEADER_HANDLER",!0),this.$store.commit("BREADCRUMB_HANDLER",!0),this.$root.$children[0].sidebarSwitch=!0;try{this.$store.state.workArea_all=[],this.$store.state.workArea_allList=[],this.$store.state.signoff_workerList=[],this.$store.state.signoff_all=[],await this.$store.dispatch("getWorkAreaCondition"),await this.$store.dispatch("getSignoffStaffCondition")}catch(t){console.log(t)}}},l=i,n=a(1001),c=(0,n.Z)(l,r,o,!1,null,null,null),f=c.exports}}]);
//# sourceMappingURL=1626.2333e6f01ebeedfe.js.map