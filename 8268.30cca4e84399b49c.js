"use strict";(self["webpackChunkinnolux"]=self["webpackChunkinnolux"]||[]).push([[8268],{4868:function(t,e,s){s.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header1"},[e("nav",{staticClass:"nav"},[t._m(0),e("div",{staticClass:"logo-text"},[t._v("群創光電"),e("span",{staticClass:"ms-2 headerText"},[t._v(t._s(t.headerText))])]),t.showPrint?e("div",{staticClass:"print text-end ms-auto"},[e("form",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Print by :")]),e("span",[t._v(t._s(t.printBy))])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Print Time：")]),e("span",[t._v(t._s(t.nowDate))])])])]):t._e()])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s(6086),alt:"logo"}})])}],o={name:"header1-component",props:{headerText:{type:String,default:"工程申請單"},showPrint:{type:Boolean,default:!1},printData:{type:Object},printBy:{type:String}},data(){return{nowDate:this.formatDate(new Date)}},methods:{formatDate(t){var e=new Date(t),s=""+(e.getMonth()+1),a=""+e.getDate(),r=e.getFullYear();return s.length<2&&(s="0"+s),a.length<2&&(a="0"+a),[r,s,a].join("-")}},mounted(){}},_=o,n=s(1001),i=(0,n.Z)(_,a,r,!1,null,"23cc3008",null),d=i.exports},8268:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var a=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:this.$root.overlay,expression:"this.$root.overlay",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"openOtherPage"},[e("HeaderComponent",{staticClass:"py-0",attrs:{headerText:"緊急搶修申請單"}}),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("緊急搶修單資料")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("th",[t._v("緊急搶修單名稱 ")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.projectInfo.project_Name))]),e("th",[t._v("緊急搶修單編號")]),e("td",[t._v(t._s(t.projectInfo.project_No))])]),e("tr",[e("th",[t._v("主承包商統編")]),e("td",[t._v(t._s(t.projectInfo.s_Id))]),e("th",[t._v("群創負責工程師")]),e("td",[t._v(t._s(t.projectInfo.emp_Name))]),e("th",[t._v("工號")]),e("td",[t._v(t._s(t.projectInfo.emp_No))])]),e("tr",[e("th",[t._v("工程生效日")]),e("td",[t._v(t._s(t.projectInfo.begin_Date))]),e("th",[t._v("工程截止日")]),e("td",[t._v(t._s(t.projectInfo.end_Date))]),e("th",[t._v("工程建立日")]),e("td",[t._v(t._s(t.projectInfo.create_Date))])]),e("tr",[e("th",[t._v("工程建立者")]),e("td",[t._v(t._s(t.projectInfo.create_User))]),e("th",[t._v("工程修改日")]),e("td",[t._v(t._s(t.projectInfo.modify_Date))]),e("th",[t._v("工程修改者")]),e("td",[t._v(t._s(t.projectInfo.modify_User))])]),e("tr",[e("th",[t._v("施工區域")]),e("td",[t._v(t._s(t.projectInfo.ld3)+"("+t._s(t.projectInfo.ld4)+")")]),e("th",[t._v("施工廠區")]),e("td",[t._v(t._s(t.projectInfo.ld2)+"("+t._s(t.projectInfo.ld1)+")")]),e("th",[t._v("廠別/主區域")]),e("td",[t._v(t._s(t.projectInfo.floor))])]),e("tr",[e("th",[t._v("緊急搶修原因")]),e("td",t._l(t.reason,(function(s,a){return e("p",{key:a,staticClass:"mb-0"},[t._v(" "+t._s(s.urgent_Type_Name)+"("+t._s(s.description)+") ")])})),0),e("th",[t._v("直屬主管代理人")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.projectInfo.dupety_Mamager_Name))])]),e("tr",[e("th",[t._v("工程說明")]),e("td",{attrs:{colspan:"5"}},[t._v(t._s(t.projectInfo.description))])]),e("tr",[e("th",[t._v("施工種類")]),e("td",{attrs:{colspan:"5"}},[t._v(" "+t._s("0"===t.projectInfo.work_Type_Normal?"一般作業":t.projectInfo.all_Work_Type)+" ")])])])])])]),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("主承包商基本資料")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[t._m(0),e("tbody",[e("tr",[e("td",[t._v(t._s(t.projectInfo.s_Name))]),e("td",[t._v(t._s(t.projectInfo.s_Id))]),e("td",[t._v(t._s(t.projectInfo.duty_Tel))]),e("td",[t._v(t._s(t.projectInfo.area_Name))])])])])])]),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("施工人員基本資料")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[t._m(1),e("tbody",t._l(t.workPerson,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(a+1))]),e("td",[t._v(t._s(s.name))]),e("td",[t._v(t._s(s.member_Id))]),e("td",[t._v(t._s(s.s_Name))]),e("td",[t._v(t._s("1"===s.card_Status?"有效":"無效"))]),e("td",[t._v(t._s(s.birthday))]),e("td",[t._v(t._s("1"===s.adult?"是":"否"))]),e("td",[e("a",{attrs:{href:"#"},on:{click:function(e){return t.urgentRepairDownloadPdf(s.file_Id,s.file_Name)}}},[t._v(" "+t._s(s.file_Name)+" ")])])])})),0)])])]),e("div",{staticClass:"table-view"},[e("div",{staticClass:"table-view-title"},[t._v("簽核歷程")]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered"},[e("tbody",[e("tr",[e("th",[t._v("待簽核人員(工號/分機/Mail)")]),e("td",[t._v(t._s(t.waitStaff))])]),e("tr",[e("th",[t._v("待簽核節點")]),e("td",[t.signOffHead&&t.signOffHead.length>0?e("span",[t._v(" "+t._s(t.signOffHead[0].act_Desc)+"。 ")]):t._e()])])])]),e("table",{staticClass:"table table-bordered"},[t._m(2),e("tbody",t._l(t.signOffDetail,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(a+1))]),e("td",[t._v(t._s(s.act_Desc))]),e("td",[t._v(t._s(s.name)+"("+t._s(s.sr_Emp)+"/"+t._s(s.ext_No)+"/"+t._s(s.e_Mail)+")")]),e("td",[t._v(t._s(s.participants))]),e("td",[t._v(t._s(s.sr_Comment))]),e("td",[t._v(t._s(s.sr_Date))])])})),0)])])])],1)},r=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("廠商公司名稱")]),e("th",[t._v("廠商公司統編")]),e("th",[t._v("廠商緊急聯絡電話")]),e("th",[t._v("廠商施工負責人")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("項次")]),e("th",[t._v("姓名")]),e("th",[t._v("身分證")]),e("th",[t._v("公司名稱")]),e("th",[t._v("發卡狀態")]),e("th",[t._v("出生年月日")]),e("th",[t._v("是否滿18歲")]),e("th",[t._v("檔案下載")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("項次")]),e("th",[t._v("簽核點")]),e("th",[t._v("簽核人員姓名(工號/分機/Mail)")]),e("th",[t._v("參與人員")]),e("th",[t._v("意見")]),e("th",[t._v("簽核時間")])])])}],o=s(4868),_={name:"viewSignOffDetails-component",components:{HeaderComponent:o.Z},data(){return{projectInfo:{},reason:[],signOffDetail:[],signOffHead:[],workPerson:[]}},computed:{waitStaff(){return this.signOffHead.map((t=>`${t.name} (${t.processor_Empno}/${t.ext_No}/${t.e_Mail})`)).join("、")}},methods:{async urgentRepairDownloadPdf(t,e){try{const s=await this.$store.dispatch("urgentRepairDownloadPdf",t),a=URL.createObjectURL(s.data),r=document.createElement("a");r.href=a,r.setAttribute("download",`${e}.pdf`),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}catch(s){console.log(s)}}},mounted(){this.$route.query.data&&(this.$root.overlay=!1),this.projectInfo=JSON.parse(this.$route.query.data).project_Info,this.reason=JSON.parse(this.$route.query.data).reason,this.signOffDetail=JSON.parse(this.$route.query.data).signoff_Detail,JSON.parse(this.$route.query.data).signoff_Head.length&&(this.signOffHead=JSON.parse(this.$route.query.data).signoff_Head),this.workPerson=JSON.parse(this.$route.query.data).work_Person,this.$store.commit("HEADER_HANDLER",!1),this.$store.commit("BREADCRUMB_HANDLER",!1),this.$root.$children[0].sidebarSwitch=!1}},n=_,i=s(1001),d=(0,i.Z)(n,a,r,!1,null,null,null),l=d.exports}}]);
//# sourceMappingURL=8268.30cca4e84399b49c.js.map