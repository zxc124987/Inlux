"use strict";(self["webpackChunkinnolux"]=self["webpackChunkinnolux"]||[]).push([[9685],{9685:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:this.$root.overlay,expression:"this.$root.overlay",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"wrapper"},[t("el-button",{staticClass:"goBack",attrs:{type:"text"},on:{click:function(t){return e.goBack()}}},[t("i",{staticClass:"el-icon-back me-1"}),e._v("回上頁 ")]),t("el-card",{attrs:{shadow:"never"}},[t("h2",{staticClass:"form-title"},[e._v("員工基本資料")]),t("form",{staticClass:"mb-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v("身分證字號：")]),t("span",[e._v(e._s(e.form.id))])]),t("div",{staticClass:"form-group"},[t("label",[e._v("統一編號：")]),t("span",[e._v(e._s(e.form.s_Id))])]),t("div",{staticClass:"form-group"},[t("label",[e._v("全稱：")]),t("span",[e._v(e._s(e.form.s_Name))])])]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"姓名",prop:"p_Name"}},[t("el-input",{attrs:{placeholder:"請輸入姓名"},model:{value:e.form.p_Name,callback:function(t){e.$set(e.form,"p_Name",t)},expression:"form.p_Name"}})],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"性別",prop:"sex"}},[t("el-select",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-option",{key:"女",attrs:{label:"女",value:"女"}}),t("el-option",{key:"男",attrs:{label:"男",value:"男"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"ms-3",attrs:{label:"血型",prop:"blood"}},[t("el-select",{model:{value:e.form.blood,callback:function(t){e.$set(e.form,"blood",t)},expression:"form.blood"}},[t("el-option",{key:"A",attrs:{label:"A",value:"A"}},[e._v("A")]),t("el-option",{key:"AB",attrs:{label:"AB",value:"AB"}},[e._v("AB")]),t("el-option",{key:"B",attrs:{label:"B",value:"B"}},[e._v("B")]),t("el-option",{key:"O",attrs:{label:"O",value:"O"}},[e._v("O")])],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy/MM/dd",placeholder:"選擇日期"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"ms-3",attrs:{label:"國別",prop:"country"}},[t("el-select",{model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},e._l(e.newVendorInfo,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.name}})})),1)],1)],1)],1),t("el-form-item",{attrs:{label:"電子郵件 (E-mail)",prop:"email"}},[t("el-input",{attrs:{placeholder:"請輸入電子郵件"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"請輸入地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"電話",prop:"tel1"}},[t("el-input",{attrs:{placeholder:"請輸入電話"},model:{value:e.form.tel1,callback:function(t){e.$set(e.form,"tel1",t)},expression:"form.tel1"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"ms-3",attrs:{label:"行動電話(施工聯絡電話)",prop:"tel2"}},[t("el-input",{attrs:{placeholder:"請輸入行動電話"},model:{value:e.form.tel2,callback:function(t){e.$set(e.form,"tel2",t)},expression:"form.tel2"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"部門名稱",prop:"dept_Name"}},[t("el-input",{attrs:{placeholder:"請輸入部門名稱"},model:{value:e.form.dept_Name,callback:function(t){e.$set(e.form,"dept_Name",t)},expression:"form.dept_Name"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"ms-3",attrs:{label:"職稱",prop:"job_Title"}},[t("el-input",{attrs:{placeholder:"請輸入職稱"},model:{value:e.form.job_Title,callback:function(t){e.$set(e.form,"job_Title",t)},expression:"form.job_Title"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"緊急聯絡人(建議優先填寫家屬)",prop:"urgent_Contact"}},[t("el-input",{attrs:{placeholder:"請輸入緊急聯絡人"},model:{value:e.form.urgent_Contact,callback:function(t){e.$set(e.form,"urgent_Contact",t)},expression:"form.urgent_Contact"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"ms-3",attrs:{label:"緊急聯絡人電話",prop:"urgent_Tel"}},[t("el-input",{attrs:{placeholder:"請輸入電話"},model:{value:e.form.urgent_Tel,callback:function(t){e.$set(e.form,"urgent_Tel",t)},expression:"form.urgent_Tel"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"保險時間(起)",prop:""}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.insurance_Begin,callback:function(t){e.$set(e.form,"insurance_Begin",t)},expression:"form.insurance_Begin"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{staticClass:"ms-3",attrs:{label:"保險時間(迄)",prop:""}},[t("el-input",{attrs:{disabled:""},model:{value:e.form.insurance_End,callback:function(t){e.$set(e.form,"insurance_End",t)},expression:"form.insurance_End"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"保險資料",prop:""}},[t("el-input",{attrs:{disabled:""},model:{value:e.attachment,callback:function(t){e.attachment=t},expression:"attachment"}})],1)],1)],1)],1),t("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){return e.resetForm("form")}}},[e._v("重設")]),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("更新")])],1)],1)},l=[],s=(r(7658),{name:"createStaff-component",data(){return{form:{p_Name:"",sex:"",blood:"",birthday:"",country:"",email:"",address:"",tel1:"",tel2:"",dept_Name:"",job_Title:"",urgent_Contact:"",urgent_Tel:"",insurance_Begin:"",insurance_End:"",insurance_doc:"",id:"",s_Id:""},rules:{p_Name:[{required:!0,message:"必填",trigger:"blur"}],sex:[{required:!0,message:"必填",trigger:"change"}],blood:[{required:!0,message:"必填",trigger:"change"}],birthday:[{required:!0,message:"必填",trigger:"change"}],country:[{required:!0,message:"必填",trigger:"change"}],email:[{required:!1,message:"必填",trigger:"blur"},{type:"email",message:"信箱格式錯誤",trigger:"change"}],address:[{required:!0,message:"必填",trigger:"blur"}],tel1:[{required:!0,message:"必填",trigger:"blur"}],tel2:[{required:!0,message:"必填",trigger:"blur"}],dept_Name:[{required:!1,message:"必填",trigger:"blur"}],job_Title:[{required:!1,message:"必填",trigger:"blur"}],urgent_Contact:[{required:!0,message:"必填",trigger:"blur"}],urgent_Tel:[{required:!0,message:"必填",trigger:"blur"}],insurance_Begin:[{required:!1,message:"必填",trigger:"blur"}],insurance_End:[{required:!1,message:"必填",trigger:"blur"}],insurance_doc:[{required:!1,message:"必填",trigger:"blur"}]}}},computed:{attachment(){return this.$store.state.attachment},employeeDetail(){const e=this.$store.state.employeeDetail;return e},newVendorInfo(){return this.$store.state.newVendorInfo.forEach((e=>{e.label=`${e.name} ${e.e_Name}`})),this.$store.state.newVendorInfo}},methods:{goBack(){this.$router.go(-1)},submitForm(e){this.$refs[e].validate((async e=>{e?this.modifyEmployeeInfo():this.$message({type:"error",duration:5e3,showClose:!0,message:"資料填寫錯誤"})}))},async modifyEmployeeInfo(){try{const e=await this.$store.dispatch("modifyEmployeeInfo",this.form);e.data.isOK&&(this.$message({type:"success",duration:5e3,showClose:!0,message:"修改成功"}),this.$router.push({name:"staffManagement"}))}catch(e){console.log(e)}},resetForm(e){this.$refs[e].resetFields()},async getEmployeeDetail(e,t){try{await this.$store.dispatch("getEmployeeDetail",{s_id:e,id:t}),this.form=this.employeeDetail}catch(r){console.log(r)}},async getNewVendorInfo(){try{await this.$store.dispatch("getNewVendorInfo")}catch(e){console.log(e)}}},async mounted(){const e=this.$route.params.s_id,t=this.$route.params.id;await this.getEmployeeDetail(e,t),await this.getNewVendorInfo(),this.$store.commit("HEADER_HANDLER",!0),this.$store.commit("BREADCRUMB_HANDLER",!0),this.$root.$children[0].sidebarSwitch=!0}}),o=s,i=r(1001),n=(0,i.Z)(o,a,l,!1,null,null,null),m=n.exports}}]);
//# sourceMappingURL=9685.9c5f5fb86e303575.js.map